{
   "format_version":"1.16.0",
   "minecraft:entity":{
      "description":{
         "identifier":"true:sentry_gun",
         "is_spawnable":true,
         "is_summonable":true,
         "is_experimental":false
      },
      "component_groups":{
         "true:default":{
            "minecraft:interact":{
               "interactions":[
                  {
                     "on_interact":{
                        "filters":{
                           "all_of":[
                              {
                                 "test":"has_equipment",
                                 "subject":"other",
                                 "domain":"hand",
                                 "value":"true:sentry_gun_bullet_case"
                              }
                           ]
                        },
                        "event":"true:gun_loaded",
                        "target":"self"
                     },
                     "use_item":true,
                     "interact_text":"action.interact.load_sentry_gun"
                  },
                  {
                     "on_interact":{
                        "filters":{
                           "all_of":[
                              {
                                 "test":"is_sneaking",
                                 "subject":"other",
                                 "operator":"==",
                                 "value":true
                              }
                           ]
                        },
                        "event":"true:recover",
                        "target":"self"
                     }
                  }
               ]
            }
         },
         "true:to_loaded":{
            "minecraft:transformation":{
               "into":"true:sentry_gun_loaded<from_default>"
            }
         },
         "true:despawn":{
            "minecraft:transformation":{
               "into":"true:despawn"
            }
         }
      },
      "components":{
         "minecraft:type_family":{
            "family":[
               "sentry_gun"
            ]
         },
         "minecraft:collision_box":{
            "width":1.5,
            "height":1.8
         },
         "minecraft:health":{
            "value":99999,
            "max":99999
         },
         "minecraft:scale":{
            "value":0.5
         },
         "minecraft:knockback_resistance":{
            "value":100,
            "max":100
         },
         "minecraft:physics":{
            
         }
      },
      "events":{
         "minecraft:entity_spawned":{
            "add":{
               "component_groups":[
                  "true:default"
               ]
            }
         },
         "true:gun_loaded":{
            "add":{
               "component_groups":[
                  "true:to_loaded"
               ]
            },
            "run_command":{
               "command":[
                  "execute @p ~ ~ ~ playsound sentry_gun_loaded"
               ]
            }
         },
         "true:recover":{
            "add":{
               "component_groups":[
                  "true:despawn"
               ]
            },
            "run_command":{
               "command":[
                  "give @p true:sentry_gun_spawn_egg 1"
               ]
            }
         },
         "from_default":{
            "add":{
               "component_groups":[
                  "true:default"
               ]
            }
         }
      }
   }
}